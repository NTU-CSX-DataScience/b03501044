---
title: "Passenger on Titanic Survive or Die?"
output: html_document
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
ti=read.csv("titanic.csv")
```


```{r message = FALSE}
library(dplyr)
library(stringr)
library(ggplot2)
```


##總乘客與死亡率
```{r}
pie(table(ti$survival))
#乘客人數
people=length(ti$gender)
cat("總人數:",people,"\n")
#存活率
sur_rate=sum(ti$survival)/people
cat("總存活率: ",sur_rate)
```

###男女差異
```{r}
gender=table(ti$gender)
pie(gender)

gender <- table(ti$gender,ti$survival)
print(gender)
barplot(gender)

```

##年紀與生存難易相關性
```{r}
ti %>%
  filter(age < 100) %>%
  group_by(age) %>%
  summarise(count = sum(survival)) %>%
  ggplot(aes(x = age,y = count)) + geom_point() + geom_line()

```


###雜訊
```{r,include=TRUE}
bad_ag=tabulate(match(ti$age,9999),1)
bad_fa=tabulate(match(ti$fare,9999),1)
bad=bad_ag+bad_fa
cat("存在雜訊9999共",bad ,"個","\n")
cat("於age 區:",bad_ag,"個","\n")
cat("於fare區:",bad_fa,"個")
```

